
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Better Futures: Because futures don't have to be awful">
      
      
      
        <link rel="canonical" href="https://alandefreitas.github.io/futures/futures/future_types/">
      
      
        <link rel="prev" href="../../quickstart/">
      
      
        <link rel="next" href="../launching/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.5">
    
    
      
        <title>Basic Types - Better Futures</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.558e4712.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-290016612"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-290016612",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-290016612",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="futures" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#futures-types" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Better Futures" class="md-header__button md-logo" aria-label="Better Futures" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Better Futures
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Basic Types
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/alandefreitas/futures/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    alandefreitas/futures
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
<!-- Main navigation -->


<div
        class="md-sidebar md-sidebar--primary"
        data-md-component="sidebar" data-md-type="navigation"
        
>
    <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner">
            


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Better Futures" class="md-nav__button md-logo" aria-label="Better Futures" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>

    </a>
    Better Futures
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/alandefreitas/futures/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    alandefreitas/futures
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" tabindex="0" aria-expanded="true">
          Futures
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Futures" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Futures
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Basic Types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Basic Types
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#concrete-types" class="md-nav__link">
    Concrete types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adaptor-types" class="md-nav__link">
    Adaptor types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-future-types" class="md-nav__link">
    Custom future types
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../launching/" class="md-nav__link">
        Launching Tasks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deferred/" class="md-nav__link">
        Deferred Tasks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../continuable_futures/" class="md-nav__link">
        Continuable Futures
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../stoppable_futures/" class="md-nav__link">
        Stoppable Futures
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../shared_futures/" class="md-nav__link">
        Shared Futures
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../waiting/" class="md-nav__link">
        Waiting for Futures
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../promises/" class="md-nav__link">
        Promises and Tasks
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" tabindex="0" aria-expanded="false">
          Future Adaptors
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Future Adaptors" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Future Adaptors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../adaptors/continuations/" class="md-nav__link">
        Continuations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../adaptors/conjunctions/" class="md-nav__link">
        Conjunctions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../adaptors/disjunctions/" class="md-nav__link">
        Disjunctions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../adaptors/task_graphs/" class="md-nav__link">
        Task Graphs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" tabindex="0" aria-expanded="false">
          Parallel Algorithms
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Parallel Algorithms" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Parallel Algorithms
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../algorithms/algorithms/" class="md-nav__link">
        Algorithms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../algorithms/partitioners/" class="md-nav__link">
        Partitioners
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" tabindex="0" aria-expanded="false">
          Networking
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Networking" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Networking
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../networking/asio/" class="md-nav__link">
        Asio
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" tabindex="0" aria-expanded="false">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config_reference/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/libraries/group__futures/" class="md-nav__link">
        Futures
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/libraries/group__adaptors/" class="md-nav__link">
        Adaptors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/libraries/group__executors/" class="md-nav__link">
        Executors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/libraries/group__algorithms/" class="md-nav__link">
        Algorithms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/namespaces/namespacefutures/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/classes/" class="md-nav__link">
        Classes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/files/" class="md-nav__link">
        Files
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../acknowledgments/" class="md-nav__link">
        Acknowledgments
      </a>
    </li>
  

    
  </ul>
</nav>
        </div>
    </div>
</div>


<!-- Table of contents: never hidden -->
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
    <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner">
            

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#concrete-types" class="md-nav__link">
    Concrete types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adaptor-types" class="md-nav__link">
    Adaptor types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-future-types" class="md-nav__link">
    Custom future types
  </a>
  
</li>
      
    </ul>
  
</nav>
            <div data-ea-publisher="alandefreitas-com" data-ea-type="image"></div>
        </div>
    </div>
</div>



          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                

                  

  
  



<h1 id="futures-types">Futures types</h1>
<h2 id="concrete-types">Concrete types</h2>
<p>This library implements a number of future types as a <em>concept</em> rather than a single concrete object.
For instance, consider a task we are launching with C++11 <a href="https://en.cppreference.com/w/cpp/thread/async">std::async</a>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:1"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">C++ std::async</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">std</span><span class="o">::</span><span class="n">future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">future1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">async</span><span class="p">([]</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// std::async task</span>
<span class="w">    </span><span class="n">long_task</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
</div>
</div>
</div>
<p>We could do something similar with the library function <a href="/futures/reference/Namespaces/namespacefutures/#function-async">futures::async</a>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:1"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Launching a continuable future</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">cfuture</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">future2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">futures</span><span class="o">::</span><span class="n">async</span><span class="p">([]</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// continuable task</span>
<span class="w">    </span><span class="n">long_task</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
</div>
</div>
</div>
<p>Notice how <a href="/futures/reference/Namespaces/namespacefutures/#function-async">async</a> returns a <a href="/futures/reference/Namespaces/namespacefutures/#using-cfuture">cfuture</a> by default, which is a future to which we can attach continuations.
The function <a href="/futures/reference/Namespaces/namespacefutures/#function-async">async</a> does not always return <a href="/futures/reference/Namespaces/namespacefutures/#using-cfuture">cfuture</a>. For instance, suppose we call <a href="/futures/reference/Namespaces/namespacefutures/#function-async">async</a> with a
function that accepts a <a href="/futures/reference/Classes/classfutures_1_1stop__token/">stop_token</a>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:1"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Launching a stoppable future</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">jcfuture</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">future3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">futures</span><span class="o">::</span><span class="n">async</span><span class="p">([](</span><span class="n">stop_token</span><span class="w"> </span><span class="n">st</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">st</span><span class="p">.</span><span class="n">stop_requested</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">++</span><span class="n">a</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// task stopped</span>
<span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
</div>
</div>
</div>
<p>It now returns <a href="/futures/reference/Namespaces/namespacefutures/#using-jcfuture">jcfuture</a> by default, which is a future type that supports stop tokens.
We can ask the task to stop through the future at any time with:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:1"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Requesting task to stop</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">future3</span><span class="p">.</span><span class="n">request_stop</span><span class="p">();</span>
</code></pre></div>
</div>
</div>
</div>
<p>We now have three types of future objects. Because all of these types are <a href="/futures/reference/libraries/group__future-traits/#concept-future_like">future_like</a>,
the library functions allow them to interoperate:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:1"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Waiting for multiple tasks</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">wait_for_all</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span><span class="w"> </span><span class="n">f2</span><span class="p">,</span><span class="w"> </span><span class="n">f3</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">f1</span><span class="p">.</span><span class="n">get</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">f2</span><span class="p">.</span><span class="n">get</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">f3</span><span class="p">.</span><span class="n">get</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<div class="admonition info">
<p class="admonition-title">Futures and Promises in Computer Science</p>
<p>A future <em>or</em> promise is a value that might not be available yet. They are also called "deferred", "delay", or simply
"task" objects in some contexts. This storage for this value might be provided by the future object, the promise
object, <em>or</em> by some form shared state between objects related to task execution. A shared state would usually be
accessed by the set setting the future value.</p>
<ul>
<li><strong>1977 - Futures</strong>: The first mention of Futures was by <a href="https://dl.acm.org/doi/10.1145/872736.806932">Baker and Hewitt</a>. These
  futures would contain a process, a memory location for the result, and a list of continuations.</li>
<li><strong>1978 - Promises</strong>: The term Promises is used by <a href="https://ieeexplore.ieee.org/document/1675100">Daniel P. Friedman and David Wise</a>
  for the same concept.</li>
<li><strong>1985 - Multilisp</strong>: <a href="https://dl.acm.org/doi/10.1145/4472.4478">Multilisp</a> provided the future and delay annotations for values that
  might not be available yet. A variable with the delay annotation would only be calculated when its value was
  requested.</li>
<li><strong>1988 - Argus</strong>: The term Promises is used by <a href="https://dl.acm.org/doi/10.1145/960116.54016">Liskov and Shrira</a> for a similar
  construct in Argus. It also proposed "call-streams" to represent directed acyclic graphs (DAGs) of computation with
  promises.</li>
<li><strong>1996 - Eventual</strong>: The term "eventual" is used
  by <a href="http://www.erights.org/history/joule/MANUAL.BK2.pdf">Tribble, Miller, Hardy, &amp; Krieger</a> to represent promises of
  "eventual" send value into a variable.</li>
<li><strong>2002 - Python</strong>: The Python <a href="https://github.com/twisted/twisted">Twisted</a> library presents Deferred objects for results of
  operations that might still be incomplete.</li>
<li><strong>2009 - Javascript</strong>: The Javascript <a href="http://wiki.commonjs.org/wiki/Promises/A">CommonJS Promises/A spec</a> is proposed by Kris Zyp.</li>
</ul>
<p>The formulation implies the future value might always be in completed or incomplete <strong><em>atomic</em> states</strong>. As all the
formulations presented above, a language might have a single construct called future <em>or</em> promise for eventual values.
Javascript defines the single <code>Promise</code> that acts like a read-only future value. When they are distinct, like in C++11,
it's common to have two constructs: futures <em>and</em> promises, where one of them is a read-only reference to the expected
value.</p>
<p>Common asynchronous <strong>applications</strong> of futures are servers, user input, long-running computations, database queries, remote
procedure calls, and timeouts. A number of variations of this pattern have emerged with slightly different meaning for
the terms. These variations are used as a model of asynchronous operations in many languages such as JavaScript, Scala,
Java, and C++.</p>
</div>
<h2 id="summary">Summary</h2>
<p>For instance, these are some concrete future classes defined in this library and their comparison with <a href="https://en.cppreference.com/w/cpp/thread/future">std::future</a>:</p>
<table>
<thead>
<tr>
<th>Class</th>
<th>Lazy Continuations</th>
<th>Stoppable</th>
<th>Shared</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/futures/reference/Namespaces/namespacefutures/#using-future">future</a></td>
<td>❌</td>
<td>❌</td>
<td>❌</td>
</tr>
<tr>
<td><a href="/futures/reference/Namespaces/namespacefutures/#using-shared_future">shared_future</a></td>
<td>❌</td>
<td>❌</td>
<td>✅</td>
</tr>
<tr>
<td><a href="/futures/reference/Namespaces/namespacefutures/#using-jfuture">jfuture</a></td>
<td>❌</td>
<td>✅</td>
<td>❌</td>
</tr>
<tr>
<td><a href="/futures/reference/Namespaces/namespacefutures/#using-shared_jfuture">shared_jfuture</a></td>
<td>❌</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td><a href="/futures/reference/Namespaces/namespacefutures/#using-cfuture">cfuture</a></td>
<td>✅</td>
<td>❌</td>
<td>❌</td>
</tr>
<tr>
<td><a href="/futures/reference/Namespaces/namespacefutures/#using-shared_cfuture">shared_cfuture</a></td>
<td>✅</td>
<td>❌</td>
<td>✅</td>
</tr>
<tr>
<td><a href="/futures/reference/Namespaces/namespacefutures/#using-jcfuture">jcfuture</a></td>
<td>✅</td>
<td>✅</td>
<td>❌</td>
</tr>
<tr>
<td><a href="/futures/reference/Namespaces/namespacefutures/#using-shared_jcfuture">shared_jcfuture</a></td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
</tbody>
</table>
<ul>
<li>Like <a href="https://en.cppreference.com/w/cpp/thread/shared_future">std::shared_future</a>, multiple threads are allowed to wait for the same shared state of all shared future types.</li>
<li>Future types with lazy continuations allow new functions to be appended to the end of the current function being
  executed. This allows these continuations to run without launching a new task to the executor. If the continuation
  should run in a new executor, it allows the continuation to be scheduled only once the current task is completed.</li>
<li>Stoppable future types contain an internal <a href="/futures/reference/Classes/classfutures_1_1stop__source/">stop_source</a>, similar to <a href="https://en.cppreference.com/w/cpp/thread/stop_source">std::stop_source</a>. This allows the future to
  directly receive stop requests, while the internal future task can identify a stop request has been made through
  a <a href="/futures/reference/Classes/classfutures_1_1stop__token/">stop_token</a>, similar to <a href="https://en.cppreference.com/w/cpp/thread/stop_token">std::stop_token</a>. This replicates the model of <a href="https://en.cppreference.com/w/cpp/thread/jthread">std::jthread</a> for futures.</li>
</ul>
<div class="admonition info">
<p class="admonition-title">What problem does this library solve?</p>
<ul>
<li><strong>The problem</strong>: <strong>C++11</strong> presented <a href="https://en.cppreference.com/w/cpp/thread/future">std::future</a> as its model for
  asynchronicity. <a href="https://en.wikipedia.org/wiki/Futures_and_promises">Futures and promises</a>
  are <a href="https://iucat.iu.edu/iub/1810628">a common construct from the 70s</a> where an object represents a value that is still
  unknown. By composing with the future objects, this construct allows us to synchronize the program execution in
  concurrent programming. On the other hand, <a href="#literature-review">many works</a> describe the specific C++11 <a href="https://en.cppreference.com/w/cpp/thread/future">std::future</a>
  model as the wrong abstraction for asynchronous programming.</li>
<li><strong>Solutions</strong>: Since then, many <strong>proposals</strong> have been presented to extend this standard <a href="https://en.cppreference.com/w/cpp/thread/future">std::future</a> model, such as future
  continuations, callbacks, lazy/eager execution, cancellation tokens, custom executors, custom allocators, and waiting on
  destruction. However, because any handle to a future value is a "future" object, it is unlikely that a single concrete
  future definition will be appropriate for most applications.</li>
<li><strong>This library</strong>: This library attempts to <a href="#the-futures-library">solve this problem</a> by defining generic algorithms for <strong>a
  common <a href="/futures/reference/libraries/group__future-traits/#concept-future_like">future_like</a> concept</strong>, which includes 1) existing future types, such as <a href="https://en.cppreference.com/w/cpp/thread/future">std::future</a>, <code>boost::future</code>
  , <code>boost::fiber::future</code>; 2) library provided future types, such as <a href="/futures/reference/Namespaces/namespacefutures/#using-cfuture">cfuture</a> and <a href="/futures/reference/Namespaces/namespacefutures/#using-jfuture">jfuture</a>; and 3) custom future types.</li>
<li><strong>Results</strong>: The concepts allow reusable algorithms for all future types, an alternative to <a href="https://en.cppreference.com/w/cpp/thread/async">std::async</a> based on executors, various
  efficient future types, many future composition algorithms, a syntax closer to other programming languages, and parallel
  variants of the STL algorithms.</li>
</ul>
</div>
<h2 id="adaptor-types">Adaptor types</h2>
<p>Some other future types are:</p>
<table>
<thead>
<tr>
<th>Class</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Value future</strong></td>
<td></td>
</tr>
<tr>
<td><a href="/futures/reference/Namespaces/namespacefutures/#using-vfuture">vfuture</a></td>
<td>Hold a single value as a future</td>
</tr>
<tr>
<td><strong>Adaptors</strong></td>
<td></td>
</tr>
<tr>
<td><a href="/futures/reference/Classes/classfutures_1_1when__all__future/">when_all_future</a></td>
<td>Represent the conjunction of other futures</td>
</tr>
<tr>
<td><a href="/futures/reference/Classes/classfutures_1_1when__any__future/">when_any_future</a></td>
<td>Represent the disjunction of other futures</td>
</tr>
</tbody>
</table>
<p>Unlike other future types, <a href="/futures/reference/Classes/classfutures_1_1when__all__future/">when_all_future</a> and <a href="/futures/reference/Classes/classfutures_1_1when__any__future/">when_any_future</a> are proxy future classes to hold the results of
the <a href="/futures/reference/Namespaces/namespacefutures/#function-when_all">when_all</a> and <a href="/futures/reference/Namespaces/namespacefutures/#function-when_all">when_all</a> functions. This proxy allows different future types to interoperate and save resources on
new tasks.</p>
<h2 id="custom-future-types">Custom future types</h2>
<p>Any custom type satisfying the <a href="/futures/reference/libraries/group__future-traits/#concept-future_like">future_like</a> requirements can interoperate with other future type. These classes might
represent any process for which a result will only be available in the future, such as child processes and network
requests with third-party libraries.</p>
<p>A simpler alternative for custom future types is through specific template instantiations of <a href="/futures/reference/Classes/classfutures_1_1basic__future/">basic_future</a>, which can
be configured at compile-time with <a href="/futures/reference/Classes/structfutures_1_1future__options/">future_options</a>. Many future types provided by the library as aliases <a href="/futures/reference/Classes/classfutures_1_1basic__future/">basic_future</a>
with specific <a href="/futures/reference/Classes/structfutures_1_1future__options/">future_options</a>.</p>
<div class="admonition info">
<p class="admonition-title">Futures in C++11</p>
<p>C++11 proposed, in <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2010/n3170.html">N3170</a>, <a href="https://en.cppreference.com/w/cpp/thread/future">std::future</a> as its
intended model of <a href="https://en.wikipedia.org/wiki/Futures_and_promises">futures and promises</a> for asynchronicity. A
C++ <a href="https://en.cppreference.com/w/cpp/thread/future">std::future</a> represents a <strong>read-only proxy</strong> for a result that might not been set by a write-only <a href="https://en.cppreference.com/w/cpp/thread/promise">std::promise</a> yet.</p>
<p>When the operation is complete, the result is stored in a <strong>shared state</strong>, to which both the future and the promise have
access. The future is a read-only view of this shared state while a promise allows an external operation to set its
value.</p>
<p>In the most common use case, this <strong>promise</strong> is hidden. The user would call <a href="https://en.cppreference.com/w/cpp/thread/async">std::async</a> to execute a task is parallel and
set the promise at the end. After the task is scheduled, <a href="https://en.cppreference.com/w/cpp/thread/async">std::async</a> would then return a <a href="https://en.cppreference.com/w/cpp/thread/future">std::future</a> which allows us
to query the status of this asynchronous operation:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1"><code>std::async</code></label><label for="__tabbed_6_2"><code>std::promise</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">std</span><span class="o">::</span><span class="n">future</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">async</span><span class="p">([]{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w"> </span><span class="p">});</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Result is: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">get</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sc">&#39;\n&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// 8</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">std</span><span class="o">::</span><span class="n">promise</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">p</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">future</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">get_future</span><span class="p">();</span>
<span class="c1">// any async operation, such as std::async, can set this value</span>
<span class="n">p</span><span class="p">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span><span class="w"> </span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Result is: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">get</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sc">&#39;\n&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// 8</span>
</code></pre></div>
</div>
</div>
</div>
<p>One satisfactory thing about the combination of <a href="https://en.cppreference.com/w/cpp/thread/future">std::future</a>, <a href="https://en.cppreference.com/w/cpp/thread/async">std::async</a>, and <a href="https://en.cppreference.com/w/cpp/thread/future/wait">std::future::wait</a> is it makes C++
asynchronous programming somewhat <strong>similar</strong> and often even <strong>simpler</strong> to that of other programming languages, such
as <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Asynchronous/Choosing_the_right_approach">Javascript</a>
futures and promises:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:3"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><input id="__tabbed_7_3" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">C++ Futures and Promises</label><label for="__tabbed_7_2">JS Futures and Promises</label><label for="__tabbed_7_3">JS Async / Await</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">std</span><span class="o">::</span><span class="n">future</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">async</span><span class="p">([]{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w"> </span><span class="p">});</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Result is: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">get</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sc">&#39;\n&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// 8</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// std::future&lt;int&gt; f = std::async([]{ return 8; });</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">resolve</span><span class="p">(</span><span class="mf">8</span><span class="p">)</span><span class="w"> </span><span class="p">});</span>
<span class="c1">// std::cout &lt;&lt; &quot;Result is: &quot; &lt;&lt; f.get() &lt;&lt; &#39;\n&#39;; // 8</span>
<span class="nx">f</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Result is: &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// std::future&lt;int&gt; f = std::async([]{ return 8; });</span>
<span class="c1">// `async` makes my_function `return Promise.resolve(8)`</span>
<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">my_function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mf">8</span><span class="w"> </span><span class="p">};</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">my_function</span><span class="p">()</span>
<span class="c1">// std::cout &lt;&lt; &quot;Result is: &quot; &lt;&lt; f.get() &lt;&lt; &#39;\n&#39;; // 8</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">f</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Result is: &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">value</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<p>However, because <a href="https://en.cppreference.com/w/cpp/thread/future">std::future</a> relies on synchronization of a shared state, this initial model is incomplete, hard to
use, <strong>inefficient</strong>, and lacks the usual generality of C++ algorithms. Most implementations could be used for
useful for a background threads but are unusable in any context where performance is a requirement. The usual
<a href="https://en.cppreference.com/w/cpp/thread/future">std::future</a> will create one thread per task, which either doesn't scale at all or kills the machine.</p>
</div>
<div class="mermaid">
graph LR
F[Future] --> |read|S[(Shared State)]
T[Promised Task] --> |write|S
</div>

<div class="admonition info">
<p class="admonition-title">Better future types</p>
<p>This documentation includes historical notes about many models proposed for asynchronicity in C++.
Given the pros and cons of each model described in this review, this library models future types as a
simple <a href="/futures/reference/libraries/group__future-traits/#concept-future_like">future_like</a> concept/trait, which supports all the features we have discussed in this overview, 
such as executors, continuations, and deferred work. We implement optimizations possible to each 
future types while sticking to existing practice.</p>
<ul>
<li>This library maintains the common model most programmers are familiar with</li>
<li>Whenever possible, new features always use language familiar to C++ and other common programming languages</li>
<li>Whenever possible, we reuse the syntax of <a href="https://en.cppreference.com/w/cpp/thread/future">std::future</a>/<a href="https://en.cppreference.com/w/cpp/thread/promise">std::promise</a></li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Better future concepts</p>
<ul>
<li>Reusable algorithms <strong>work for</strong> <a href="#standard-futures"><strong>all future types</strong></a>,<ul>
<li><a href="https://en.cppreference.com/w/cpp/thread/future">std::future</a></li>
<li><code>boost::future</code></li>
<li><code>boost::fiber::future</code></li>
<li>Any new and existing future type</li>
</ul>
</li>
<li>Concrete futures can be optionally instantiated with any combination of custom extensions, such as:<ul>
<li>Eager/deferred work</li>
<li>Unique/shared</li>
<li>Continuations</li>
<li>Cancellation</li>
<li>Allocators</li>
</ul>
</li>
<li>All optimizations possible for "senders" are also implemented for "deferred futures".</li>
<li>Synchronization costs are reduced with deferred futures, atomic operations, and atomic data structures</li>
<li>Futures can still match and work with whatever constraints C++ eventually imposes on future types</li>
</ul>
</div>
<!-- Standard C++ -->
<!-- C++ Standard library -->
<!-- C++ Standard library / Extensions and Proposals -->
<!-- Libraries -->
<!-- Futures -->


  




                

<footer class="tx-content__footer md-typeset" style="margin-top: 70px; text-align: center;">
    <a href="https://github.com/alandefreitas/futures/" title="Better Futures" class="md-button" target="_blank">
        ⭐️ Star Better Futures
    </a>
</footer>

              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Application footer -->
<footer class="md-footer">

    <!-- Link to previous and/or next page -->
    
    <div class="md-footer-nav">
        <nav
                class="md-footer-nav__inner md-grid"
                aria-label=""
        >

            <!-- Link to previous page -->
            
            <a
                    href="../../quickstart/"
                    class="md-footer-nav__link md-footer-nav__link--prev"
                    rel="prev"
            >
                <div class="md-footer-nav__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
                </div>
                <div class="md-footer-nav__title">
                    <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                        Quickstart
                    </div>
                </div>
            </a>
            

            <!-- Link to next page -->
            
            <a
                    href="../launching/"
                    class="md-footer-nav__link md-footer-nav__link--next"
                    rel="next"
            >
                <div class="md-footer-nav__title">
                    <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                        Launching Tasks
                    </div>
                </div>
                <div class="md-footer-nav__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
                </div>
            </a>
            
        </nav>
    </div>
    

    <!-- Further information -->
    <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">

            <!-- Copyright and theme information -->
            <div class="md-footer-copyright">
                
                <div class="md-footer-copyright__highlight">
                    Copyright &copy; Alan Freitas
                </div>
                
                Made with
                <a
                        href="https://squidfunk.github.io/mkdocs-material/"
                        target="_blank" rel="noopener"
                >
                    Material for MkDocs
                </a>
            </div>

            <!-- Social links -->
            <div class="md-social">
  
</div>
        </div>
    </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.51d95adb.min.js"></script>
      
        <script src="../../js/mkdocs-charts-plugin.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
      
        <script src="../../javascripts/extra.js"></script>
      
    
  </body>
</html>